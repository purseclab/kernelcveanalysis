from http.server import BaseHTTPRequestHandler, HTTPServer
import json

class SimpleJSONHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        if self.path == "/app.json":
            self.send_response(200)
            print("REACHED")
            self.send_header("Content-Type", "application/json")
            self.end_headers()
            with open("app.json", "r") as f:
                self.wfile.write(f.read().encode("utf-8"))
        else:
            self.send_response(404)
            self.end_headers()
            self.wfile.write(b"Not Found")

    def log_message(self, format, *args):
        return  # silence logging

if __name__ == "__main__":
    PORT = 8000
    server = HTTPServer(("0.0.0.0", PORT), SimpleJSONHandler)
    print(f"âœ… Serving app.json at http://0.0.0.0:{PORT}/app.json")
    server.serve_forever()
