starting summarizer agent
╭────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── Traceback (most recent call last) ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/kexploit/src/kexploit/main.py:122 in synthesis_summarize                                                                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   119 │   kernel: Annotated[str, typer.Option(help="Name of kernel to use for summarizer")],                                                                                                                                                                                                                                                                                                                                           │
│   120 │   poc: Annotated[Path, typer.Option(help="Path to folder containing proof of concept e                                                                                                                                                                                                                                                                                                                                         │
│   121 ):                                                                                                                                                                                                                                                                                                                                                                                                                               │
│ ❱ 122 │   run_summarizer(                                                                                                                                                                                                                                                                                                                                                                                                              │
│   123 │   │   Kernel(kernel),                                                                                                                                                                                                                                                                                                                                                                                                          │
│   124 │   │   poc,                                                                                                                                                                                                                                                                                                                                                                                                                     │
│   125 │   )                                                                                                                                                                                                                                                                                                                                                                                                                            │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/kexploit/src/kexploit/synthesis/__init__.py:139 in run_summarizer                                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   136                                                                                                                                                                                                                                                                                                                                                                                                                                  │
│   137 def run_summarizer(kernel: Kernel, poc_path: Path):                                                                                                                                                                                                                                                                                                                                                                              │
│   138 │   metadata = SynthesisMetadata.load_for_kernel(kernel)                                                                                                                                                                                                                                                                                                                                                                         │
│ ❱ 139 │   run_summarizer_agent(metadata, poc_path)                                                                                                                                                                                                                                                                                                                                                                                     │
│   140                                                                                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/kexploit/src/kexploit/synthesis/agents.py:122 in run_summarizer_agent                                                                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   119 │   │   )                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   120 │   │                                                                                                                                                                                                                                                                                                                                                                                                                            │
│   121 │   │   print('starting summarizer agent')                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱ 122 │   │   result = agent.invoke({                                                                                                                                                                                                                                                                                                                                                                                                  │
│   123 │   │   │   'messages': [{                                                                                                                                                                                                                                                                                                                                                                                                       │
│   124 │   │   │   │   'role': 'user',                                                                                                                                                                                                                                                                                                                                                                                                  │
│   125 │   │   │   │   'content': 'Please summarize the provided PoC exploit.',                                                                                                                                                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langgraph/pregel/main.py:3071 in invoke                                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   3068 │   │   chunks: list[dict[str, Any] | Any] = []                                                                                                                                                                                                                                                                                                                                                                                 │
│   3069 │   │   interrupts: list[Interrupt] = []                                                                                                                                                                                                                                                                                                                                                                                        │
│   3070 │   │                                                                                                                                                                                                                                                                                                                                                                                                                           │
│ ❱ 3071 │   │   for chunk in self.stream(                                                                                                                                                                                                                                                                                                                                                                                               │
│   3072 │   │   │   input,                                                                                                                                                                                                                                                                                                                                                                                                              │
│   3073 │   │   │   config,                                                                                                                                                                                                                                                                                                                                                                                                             │
│   3074 │   │   │   context=context,                                                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langgraph/pregel/main.py:2646 in stream                                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   2643 │   │   │   │   while loop.tick():                                                                                                                                                                                                                                                                                                                                                                                              │
│   2644 │   │   │   │   │   for task in loop.match_cached_writes():                                                                                                                                                                                                                                                                                                                                                                     │
│   2645 │   │   │   │   │   │   loop.output_writes(task.id, task.writes, cached=True)                                                                                                                                                                                                                                                                                                                                                   │
│ ❱ 2646 │   │   │   │   │   for _ in runner.tick(                                                                                                                                                                                                                                                                                                                                                                                       │
│   2647 │   │   │   │   │   │   [t for t in loop.tasks.values() if not t.writes],                                                                                                                                                                                                                                                                                                                                                       │
│   2648 │   │   │   │   │   │   timeout=self.step_timeout,                                                                                                                                                                                                                                                                                                                                                                              │
│   2649 │   │   │   │   │   │   get_waiter=get_waiter,                                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langgraph/pregel/_runner.py:167 in tick                                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   164 │   │   elif len(tasks) == 1 and timeout is None and get_waiter is None:                                                                                                                                                                                                                                                                                                                                                         │
│   165 │   │   │   t = tasks[0]                                                                                                                                                                                                                                                                                                                                                                                                         │
│   166 │   │   │   try:                                                                                                                                                                                                                                                                                                                                                                                                                 │
│ ❱ 167 │   │   │   │   run_with_retry(                                                                                                                                                                                                                                                                                                                                                                                                  │
│   168 │   │   │   │   │   t,                                                                                                                                                                                                                                                                                                                                                                                                           │
│   169 │   │   │   │   │   retry_policy,                                                                                                                                                                                                                                                                                                                                                                                                │
│   170 │   │   │   │   │   configurable={                                                                                                                                                                                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langgraph/pregel/_retry.py:42 in run_with_retry                                                                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    39 │   │   │   # clear any writes from previous attempts                                                                                                                                                                                                                                                                                                                                                                            │
│    40 │   │   │   task.writes.clear()                                                                                                                                                                                                                                                                                                                                                                                                  │
│    41 │   │   │   # run the task                                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱  42 │   │   │   return task.proc.invoke(task.input, config)                                                                                                                                                                                                                                                                                                                                                                          │
│    43 │   │   except ParentCommand as exc:                                                                                                                                                                                                                                                                                                                                                                                             │
│    44 │   │   │   ns: str = config[CONF][CONFIG_KEY_CHECKPOINT_NS]                                                                                                                                                                                                                                                                                                                                                                     │
│    45 │   │   │   cmd = exc.args[0]                                                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langgraph/_internal/_runnable.py:656 in invoke                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   653 │   │   │   │   │   │   run = None                                                                                                                                                                                                                                                                                                                                                                                               │
│   654 │   │   │   │   │   # run in context                                                                                                                                                                                                                                                                                                                                                                                             │
│   655 │   │   │   │   │   with set_config_context(config, run) as context:                                                                                                                                                                                                                                                                                                                                                             │
│ ❱ 656 │   │   │   │   │   │   input = context.run(step.invoke, input, config, **kwargs)                                                                                                                                                                                                                                                                                                                                                │
│   657 │   │   │   │   else:                                                                                                                                                                                                                                                                                                                                                                                                            │
│   658 │   │   │   │   │   input = step.invoke(input, config)                                                                                                                                                                                                                                                                                                                                                                           │
│   659 │   │   # finish the root run                                                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langgraph/_internal/_runnable.py:400 in invoke                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   397 │   │   │   else:                                                                                                                                                                                                                                                                                                                                                                                                                │
│   398 │   │   │   │   run_manager.on_chain_end(ret)                                                                                                                                                                                                                                                                                                                                                                                    │
│   399 │   │   else:                                                                                                                                                                                                                                                                                                                                                                                                                    │
│ ❱ 400 │   │   │   ret = self.func(*args, **kwargs)                                                                                                                                                                                                                                                                                                                                                                                     │
│   401 │   │   if self.recurse and isinstance(ret, Runnable):                                                                                                                                                                                                                                                                                                                                                                           │
│   402 │   │   │   return ret.invoke(input, config)                                                                                                                                                                                                                                                                                                                                                                                     │
│   403 │   │   return ret                                                                                                                                                                                                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:1264 in model_node                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1261 │   │   │   model_response = _execute_model_sync(request)                                                                                                                                                                                                                                                                                                                                                                       │
│   1262 │   │   │   return _build_commands(model_response)                                                                                                                                                                                                                                                                                                                                                                              │
│   1263 │   │                                                                                                                                                                                                                                                                                                                                                                                                                           │
│ ❱ 1264 │   │   result = wrap_model_call_handler(request, _execute_model_sync)                                                                                                                                                                                                                                                                                                                                                          │
│   1265 │   │   return _build_commands(result.model_response, result.commands)                                                                                                                                                                                                                                                                                                                                                          │
│   1266 │                                                                                                                                                                                                                                                                                                                                                                                                                               │
│   1267 │   async def _execute_model_async(request: ModelRequest[ContextT]) -> ModelResponse:                                                                                                                                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:280 in composed                                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    277 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│    278 │   │   │   │   return _normalize_to_model_response(inner_result)                                                                                                                                                                                                                                                                                                                                                               │
│    279 │   │   │                                                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱  280 │   │   │   outer_result = outer(request, inner_handler)                                                                                                                                                                                                                                                                                                                                                                        │
│    281 │   │   │   return _to_composed_result(                                                                                                                                                                                                                                                                                                                                                                                         │
│    282 │   │   │   │   outer_result,                                                                                                                                                                                                                                                                                                                                                                                                   │
│    283 │   │   │   │   extra_commands=accumulated_commands or None,                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/middleware/todo.py:226 in wrap_model_call                                                                                                                                                                                                                                                              │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   223 │   │   new_system_message = SystemMessage(                                                                                                                                                                                                                                                                                                                                                                                      │
│   224 │   │   │   content=cast("list[str | dict[str, str]]", new_system_content)                                                                                                                                                                                                                                                                                                                                                       │
│   225 │   │   )                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ ❱ 226 │   │   return handler(request.override(system_message=new_system_message))                                                                                                                                                                                                                                                                                                                                                      │
│   227 │                                                                                                                                                                                                                                                                                                                                                                                                                                │
│   228 │   async def awrap_model_call(                                                                                                                                                                                                                                                                                                                                                                                                  │
│   229 │   │   self,                                                                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:270 in inner_handler                                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    267 │   │   │   def inner_handler(req: ModelRequest[ContextT]) -> ModelResponse:                                                                                                                                                                                                                                                                                                                                                    │
│    268 │   │   │   │   # Clear on each call for retry safety                                                                                                                                                                                                                                                                                                                                                                           │
│    269 │   │   │   │   accumulated_commands.clear()                                                                                                                                                                                                                                                                                                                                                                                    │
│ ❱  270 │   │   │   │   inner_result = inner(req, handler)                                                                                                                                                                                                                                                                                                                                                                              │
│    271 │   │   │   │   if isinstance(inner_result, _ComposedExtendedModelResponse):                                                                                                                                                                                                                                                                                                                                                    │
│    272 │   │   │   │   │   accumulated_commands.extend(inner_result.commands)                                                                                                                                                                                                                                                                                                                                                          │
│    273 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:280 in composed                                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    277 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│    278 │   │   │   │   return _normalize_to_model_response(inner_result)                                                                                                                                                                                                                                                                                                                                                               │
│    279 │   │   │                                                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱  280 │   │   │   outer_result = outer(request, inner_handler)                                                                                                                                                                                                                                                                                                                                                                        │
│    281 │   │   │   return _to_composed_result(                                                                                                                                                                                                                                                                                                                                                                                         │
│    282 │   │   │   │   outer_result,                                                                                                                                                                                                                                                                                                                                                                                                   │
│    283 │   │   │   │   extra_commands=accumulated_commands or None,                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/deepagents/middleware/filesystem.py:1004 in wrap_model_call                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1001 │   │   │   new_system_message = append_to_system_message(request.system_message, system                                                                                                                                                                                                                                                                                                                                        │
│   1002 │   │   │   request = request.override(system_message=new_system_message)                                                                                                                                                                                                                                                                                                                                                       │
│   1003 │   │                                                                                                                                                                                                                                                                                                                                                                                                                           │
│ ❱ 1004 │   │   return handler(request)                                                                                                                                                                                                                                                                                                                                                                                                 │
│   1005 │                                                                                                                                                                                                                                                                                                                                                                                                                               │
│   1006 │   async def awrap_model_call(                                                                                                                                                                                                                                                                                                                                                                                                 │
│   1007 │   │   self,                                                                                                                                                                                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:270 in inner_handler                                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    267 │   │   │   def inner_handler(req: ModelRequest[ContextT]) -> ModelResponse:                                                                                                                                                                                                                                                                                                                                                    │
│    268 │   │   │   │   # Clear on each call for retry safety                                                                                                                                                                                                                                                                                                                                                                           │
│    269 │   │   │   │   accumulated_commands.clear()                                                                                                                                                                                                                                                                                                                                                                                    │
│ ❱  270 │   │   │   │   inner_result = inner(req, handler)                                                                                                                                                                                                                                                                                                                                                                              │
│    271 │   │   │   │   if isinstance(inner_result, _ComposedExtendedModelResponse):                                                                                                                                                                                                                                                                                                                                                    │
│    272 │   │   │   │   │   accumulated_commands.extend(inner_result.commands)                                                                                                                                                                                                                                                                                                                                                          │
│    273 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:280 in composed                                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    277 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│    278 │   │   │   │   return _normalize_to_model_response(inner_result)                                                                                                                                                                                                                                                                                                                                                               │
│    279 │   │   │                                                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱  280 │   │   │   outer_result = outer(request, inner_handler)                                                                                                                                                                                                                                                                                                                                                                        │
│    281 │   │   │   return _to_composed_result(                                                                                                                                                                                                                                                                                                                                                                                         │
│    282 │   │   │   │   outer_result,                                                                                                                                                                                                                                                                                                                                                                                                   │
│    283 │   │   │   │   extra_commands=accumulated_commands or None,                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/deepagents/middleware/subagents.py:680 in wrap_model_call                                                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   677 │   │   """Update the system message to include instructions on using subagents."""                                                                                                                                                                                                                                                                                                                                              │
│   678 │   │   if self.system_prompt is not None:                                                                                                                                                                                                                                                                                                                                                                                       │
│   679 │   │   │   new_system_message = append_to_system_message(request.system_message, self.s                                                                                                                                                                                                                                                                                                                                         │
│ ❱ 680 │   │   │   return handler(request.override(system_message=new_system_message))                                                                                                                                                                                                                                                                                                                                                  │
│   681 │   │   return handler(request)                                                                                                                                                                                                                                                                                                                                                                                                  │
│   682 │                                                                                                                                                                                                                                                                                                                                                                                                                                │
│   683 │   async def awrap_model_call(                                                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:270 in inner_handler                                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    267 │   │   │   def inner_handler(req: ModelRequest[ContextT]) -> ModelResponse:                                                                                                                                                                                                                                                                                                                                                    │
│    268 │   │   │   │   # Clear on each call for retry safety                                                                                                                                                                                                                                                                                                                                                                           │
│    269 │   │   │   │   accumulated_commands.clear()                                                                                                                                                                                                                                                                                                                                                                                    │
│ ❱  270 │   │   │   │   inner_result = inner(req, handler)                                                                                                                                                                                                                                                                                                                                                                              │
│    271 │   │   │   │   if isinstance(inner_result, _ComposedExtendedModelResponse):                                                                                                                                                                                                                                                                                                                                                    │
│    272 │   │   │   │   │   accumulated_commands.extend(inner_result.commands)                                                                                                                                                                                                                                                                                                                                                          │
│    273 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:280 in composed                                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    277 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│    278 │   │   │   │   return _normalize_to_model_response(inner_result)                                                                                                                                                                                                                                                                                                                                                               │
│    279 │   │   │                                                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱  280 │   │   │   outer_result = outer(request, inner_handler)                                                                                                                                                                                                                                                                                                                                                                        │
│    281 │   │   │   return _to_composed_result(                                                                                                                                                                                                                                                                                                                                                                                         │
│    282 │   │   │   │   outer_result,                                                                                                                                                                                                                                                                                                                                                                                                   │
│    283 │   │   │   │   extra_commands=accumulated_commands or None,                                                                                                                                                                                                                                                                                                                                                                    │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/deepagents/middleware/summarization.py:810 in wrap_model_call                                                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   807 │   │   # If no summarization needed, return with truncated messages                                                                                                                                                                                                                                                                                                                                                             │
│   808 │   │   if not should_summarize:                                                                                                                                                                                                                                                                                                                                                                                                 │
│   809 │   │   │   try:                                                                                                                                                                                                                                                                                                                                                                                                                 │
│ ❱ 810 │   │   │   │   return handler(request.override(messages=truncated_messages))                                                                                                                                                                                                                                                                                                                                                    │
│   811 │   │   │   except ContextOverflowError:                                                                                                                                                                                                                                                                                                                                                                                         │
│   812 │   │   │   │   pass                                                                                                                                                                                                                                                                                                                                                                                                             │
│   813 │   │   │   │   # Fallback to summarization on context overflow                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:270 in inner_handler                                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    267 │   │   │   def inner_handler(req: ModelRequest[ContextT]) -> ModelResponse:                                                                                                                                                                                                                                                                                                                                                    │
│    268 │   │   │   │   # Clear on each call for retry safety                                                                                                                                                                                                                                                                                                                                                                           │
│    269 │   │   │   │   accumulated_commands.clear()                                                                                                                                                                                                                                                                                                                                                                                    │
│ ❱  270 │   │   │   │   inner_result = inner(req, handler)                                                                                                                                                                                                                                                                                                                                                                              │
│    271 │   │   │   │   if isinstance(inner_result, _ComposedExtendedModelResponse):                                                                                                                                                                                                                                                                                                                                                    │
│    272 │   │   │   │   │   accumulated_commands.extend(inner_result.commands)                                                                                                                                                                                                                                                                                                                                                          │
│    273 │   │   │   │   │   return inner_result.model_response                                                                                                                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_anthropic/middleware/prompt_caching.py:116 in wrap_model_call                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   113 │   │   │   The model response from the handler.                                                                                                                                                                                                                                                                                                                                                                                 │
│   114 │   │   """                                                                                                                                                                                                                                                                                                                                                                                                                      │
│   115 │   │   if not self._should_apply_caching(request):                                                                                                                                                                                                                                                                                                                                                                              │
│ ❱ 116 │   │   │   return handler(request)                                                                                                                                                                                                                                                                                                                                                                                              │
│   117 │   │                                                                                                                                                                                                                                                                                                                                                                                                                            │
│   118 │   │   model_settings = request.model_settings                                                                                                                                                                                                                                                                                                                                                                                  │
│   119 │   │   new_model_settings = {                                                                                                                                                                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain/agents/factory.py:1233 in _execute_model_sync                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1230 │   │   if request.system_message:                                                                                                                                                                                                                                                                                                                                                                                              │
│   1231 │   │   │   messages = [request.system_message, *messages]                                                                                                                                                                                                                                                                                                                                                                      │
│   1232 │   │                                                                                                                                                                                                                                                                                                                                                                                                                           │
│ ❱ 1233 │   │   output = model_.invoke(messages)                                                                                                                                                                                                                                                                                                                                                                                        │
│   1234 │   │   if name:                                                                                                                                                                                                                                                                                                                                                                                                                │
│   1235 │   │   │   output.name = name                                                                                                                                                                                                                                                                                                                                                                                                  │
│   1236                                                                                                                                                                                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_core/runnables/base.py:5695 in invoke                                                                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   5692 │   │   config: RunnableConfig | None = None,                                                                                                                                                                                                                                                                                                                                                                                   │
│   5693 │   │   **kwargs: Any | None,                                                                                                                                                                                                                                                                                                                                                                                                   │
│   5694 │   ) -> Output:                                                                                                                                                                                                                                                                                                                                                                                                                │
│ ❱ 5695 │   │   return self.bound.invoke(                                                                                                                                                                                                                                                                                                                                                                                               │
│   5696 │   │   │   input,                                                                                                                                                                                                                                                                                                                                                                                                              │
│   5697 │   │   │   self._merge_configs(config),                                                                                                                                                                                                                                                                                                                                                                                        │
│   5698 │   │   │   **{**self.kwargs, **kwargs},                                                                                                                                                                                                                                                                                                                                                                                        │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py:402 in invoke                                                                                                                                                                                                                                                             │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    399 │   │   │   "AIMessage",                                                                                                                                                                                                                                                                                                                                                                                                        │
│    400 │   │   │   cast(                                                                                                                                                                                                                                                                                                                                                                                                               │
│    401 │   │   │   │   "ChatGeneration",                                                                                                                                                                                                                                                                                                                                                                                               │
│ ❱  402 │   │   │   │   self.generate_prompt(                                                                                                                                                                                                                                                                                                                                                                                           │
│    403 │   │   │   │   │   [self._convert_input(input)],                                                                                                                                                                                                                                                                                                                                                                               │
│    404 │   │   │   │   │   stop=stop,                                                                                                                                                                                                                                                                                                                                                                                                  │
│    405 │   │   │   │   │   callbacks=config.get("callbacks"),                                                                                                                                                                                                                                                                                                                                                                          │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py:1121 in generate_prompt                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1118 │   │   **kwargs: Any,                                                                                                                                                                                                                                                                                                                                                                                                          │
│   1119 │   ) -> LLMResult:                                                                                                                                                                                                                                                                                                                                                                                                             │
│   1120 │   │   prompt_messages = [p.to_messages() for p in prompts]                                                                                                                                                                                                                                                                                                                                                                    │
│ ❱ 1121 │   │   return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)                                                                                                                                                                                                                                                                                                                                         │
│   1122 │                                                                                                                                                                                                                                                                                                                                                                                                                               │
│   1123 │   @override                                                                                                                                                                                                                                                                                                                                                                                                                   │
│   1124 │   async def agenerate_prompt(                                                                                                                                                                                                                                                                                                                                                                                                 │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py:931 in generate                                                                                                                                                                                                                                                           │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│    928 │   │   for i, m in enumerate(input_messages):                                                                                                                                                                                                                                                                                                                                                                                  │
│    929 │   │   │   try:                                                                                                                                                                                                                                                                                                                                                                                                                │
│    930 │   │   │   │   results.append(                                                                                                                                                                                                                                                                                                                                                                                                 │
│ ❱  931 │   │   │   │   │   self._generate_with_cache(                                                                                                                                                                                                                                                                                                                                                                                  │
│    932 │   │   │   │   │   │   m,                                                                                                                                                                                                                                                                                                                                                                                                      │
│    933 │   │   │   │   │   │   stop=stop,                                                                                                                                                                                                                                                                                                                                                                                              │
│    934 │   │   │   │   │   │   run_manager=run_managers[i] if run_managers else None,                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_core/language_models/chat_models.py:1233 in _generate_with_cache                                                                                                                                                                                                                                              │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1230 │   │   │   │   chunks.append(chunk)                                                                                                                                                                                                                                                                                                                                                                                            │
│   1231 │   │   │   result = generate_from_stream(iter(chunks))                                                                                                                                                                                                                                                                                                                                                                         │
│   1232 │   │   elif inspect.signature(self._generate).parameters.get("run_manager"):                                                                                                                                                                                                                                                                                                                                                   │
│ ❱ 1233 │   │   │   result = self._generate(                                                                                                                                                                                                                                                                                                                                                                                            │
│   1234 │   │   │   │   messages, stop=stop, run_manager=run_manager, **kwargs                                                                                                                                                                                                                                                                                                                                                          │
│   1235 │   │   │   )                                                                                                                                                                                                                                                                                                                                                                                                                   │
│   1236 │   │   else:                                                                                                                                                                                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_openai/chat_models/base.py:1420 in _generate                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1417 │   │   │   │   raw_response = self.client.with_raw_response.create(**payload)                                                                                                                                                                                                                                                                                                                                                  │
│   1418 │   │   │   │   response = raw_response.parse()                                                                                                                                                                                                                                                                                                                                                                                 │
│   1419 │   │   except openai.BadRequestError as e:                                                                                                                                                                                                                                                                                                                                                                                     │
│ ❱ 1420 │   │   │   _handle_openai_bad_request(e)                                                                                                                                                                                                                                                                                                                                                                                       │
│   1421 │   │   except openai.APIError as e:                                                                                                                                                                                                                                                                                                                                                                                            │
│   1422 │   │   │   _handle_openai_api_error(e)                                                                                                                                                                                                                                                                                                                                                                                         │
│   1423 │   │   except Exception as e:                                                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/langchain_openai/chat_models/base.py:1417 in _generate                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1414 │   │   │   │   │   output_version=self.output_version,                                                                                                                                                                                                                                                                                                                                                                         │
│   1415 │   │   │   │   )                                                                                                                                                                                                                                                                                                                                                                                                               │
│   1416 │   │   │   else:                                                                                                                                                                                                                                                                                                                                                                                                               │
│ ❱ 1417 │   │   │   │   raw_response = self.client.with_raw_response.create(**payload)                                                                                                                                                                                                                                                                                                                                                  │
│   1418 │   │   │   │   response = raw_response.parse()                                                                                                                                                                                                                                                                                                                                                                                 │
│   1419 │   │   except openai.BadRequestError as e:                                                                                                                                                                                                                                                                                                                                                                                     │
│   1420 │   │   │   _handle_openai_bad_request(e)                                                                                                                                                                                                                                                                                                                                                                                       │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/openai/_legacy_response.py:364 in wrapped                                                                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   361 │   │                                                                                                                                                                                                                                                                                                                                                                                                                            │
│   362 │   │   kwargs["extra_headers"] = extra_headers                                                                                                                                                                                                                                                                                                                                                                                  │
│   363 │   │                                                                                                                                                                                                                                                                                                                                                                                                                            │
│ ❱ 364 │   │   return cast(LegacyAPIResponse[R], func(*args, **kwargs))                                                                                                                                                                                                                                                                                                                                                                 │
│   365 │                                                                                                                                                                                                                                                                                                                                                                                                                                │
│   366 │   return wrapped                                                                                                                                                                                                                                                                                                                                                                                                               │
│   367                                                                                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/openai/_utils/_utils.py:286 in wrapper                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   283 │   │   │   │   │   else:                                                                                                                                                                                                                                                                                                                                                                                                        │
│   284 │   │   │   │   │   │   msg = f"Missing required argument: {quote(missing[0])}"                                                                                                                                                                                                                                                                                                                                                  │
│   285 │   │   │   │   raise TypeError(msg)                                                                                                                                                                                                                                                                                                                                                                                             │
│ ❱ 286 │   │   │   return func(*args, **kwargs)                                                                                                                                                                                                                                                                                                                                                                                         │
│   287 │   │                                                                                                                                                                                                                                                                                                                                                                                                                            │
│   288 │   │   return wrapper  # type: ignore                                                                                                                                                                                                                                                                                                                                                                                           │
│   289                                                                                                                                                                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/openai/resources/chat/completions/completions.py:1192 in create                                                                                                                                                                                                                                                         │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1189 │   │   timeout: float | httpx.Timeout | None | NotGiven = not_given,                                                                                                                                                                                                                                                                                                                                                           │
│   1190 │   ) -> ChatCompletion | Stream[ChatCompletionChunk]:                                                                                                                                                                                                                                                                                                                                                                          │
│   1191 │   │   validate_response_format(response_format)                                                                                                                                                                                                                                                                                                                                                                               │
│ ❱ 1192 │   │   return self._post(                                                                                                                                                                                                                                                                                                                                                                                                      │
│   1193 │   │   │   "/chat/completions",                                                                                                                                                                                                                                                                                                                                                                                                │
│   1194 │   │   │   body=maybe_transform(                                                                                                                                                                                                                                                                                                                                                                                               │
│   1195 │   │   │   │   {                                                                                                                                                                                                                                                                                                                                                                                                               │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/openai/_base_client.py:1297 in post                                                                                                                                                                                                                                                                                     │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1294 │   │   opts = FinalRequestOptions.construct(                                                                                                                                                                                                                                                                                                                                                                                   │
│   1295 │   │   │   method="post", url=path, json_data=body, content=content, files=to_httpx_fil                                                                                                                                                                                                                                                                                                                                        │
│   1296 │   │   )                                                                                                                                                                                                                                                                                                                                                                                                                       │
│ ❱ 1297 │   │   return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=str                                                                                                                                                                                                                                                                                                                                        │
│   1298 │                                                                                                                                                                                                                                                                                                                                                                                                                               │
│   1299 │   def patch(                                                                                                                                                                                                                                                                                                                                                                                                                  │
│   1300 │   │   self,                                                                                                                                                                                                                                                                                                                                                                                                                   │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│ /home/jack/Documents/college/purdue/research/kernelcveanalysis/ingots_tools/.venv/lib/python3.13/site-packages/openai/_base_client.py:1070 in request                                                                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                                                                                                                                                                                                                        │
│   1067 │   │   │   │   │   err.response.read()                                                                                                                                                                                                                                                                                                                                                                                         │
│   1068 │   │   │   │                                                                                                                                                                                                                                                                                                                                                                                                                   │
│   1069 │   │   │   │   log.debug("Re-raising status error")                                                                                                                                                                                                                                                                                                                                                                            │
│ ❱ 1070 │   │   │   │   raise self._make_status_error_from_response(err.response) from None                                                                                                                                                                                                                                                                                                                                             │
│   1071 │   │   │                                                                                                                                                                                                                                                                                                                                                                                                                       │
│   1072 │   │   │   break                                                                                                                                                                                                                                                                                                                                                                                                               │
│   1073                                                                                                                                                                                                                                                                                                                                                                                                                                 │
╰────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
BadRequestError: Error code: 400 - {'error': {'message': "Invalid 'messages[2].name': string does not match pattern. Expected a string that matches the pattern '^[^\\s<|\\\\/>]+$'.", 'type': 'invalid_request_error', 'param': 'messages[2].name', 'code': 'invalid_value'}}
[NOTE] During task with name 'model' and id '8a3f7cda-1d20-b0ed-f34c-253cd9c0b72e'
